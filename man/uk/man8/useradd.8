'\" t
.\"     Title: useradd
.\"    Author: Julianne Frances Haugh
.\" Generator: DocBook XSL Stylesheets vsnapshot <http://docbook.sf.net/>
.\"      Date: 08/11/2022
.\"    Manual: Команди керування системою
.\"    Source: shadow-utils 4.13
.\"  Language: Ukrainian
.\"
.TH "useradd" "8" "08/11/2022" "shadow\-utils 4\&.13" "Команди керування системою"
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "НАЗВА"
useradd \- створення запису користувача або оновлення відомостей щодо типового нового користувача
.SH "КОРОТКИЙ ОГЛЯД"
.HP \w'\fBuseradd\fR\ 'u
\fBuseradd\fR [\fIпараметри\fR] \fIЗАПИС\fR
.HP \w'\fBuseradd\fR\ 'u
\fBuseradd\fR \-D
.HP \w'\fBuseradd\fR\ 'u
\fBuseradd\fR \-D [\fIпараметри\fR]
.SH "ОПИС"
.PP
Якщо програму викликано без параметра
\fB\-D\fR, команда
\fBuseradd\fR
створити обліковий запис користувача з використанням значень, які вказано у рядку команди, і значень, які є типовими для системи\&. Залежно від параметрів рядка команди, команда
\fBuseradd\fR
оновить файли системи і також може створити домашній каталог нового користувача і скопіювати туди початкові файли\&.
.PP
Типово, для нового користувача також буде створено його власну групу (див\&.
\fB\-g\fR,
\fB\-N\fR,
\fB\-U\fR
і
\fBUSERGROUPS_ENAB\fR)\&.
.SH "ПАРАМЕТРИ"
.PP
Параметри, які застосовують до команди
\fBuseradd\fR, є такими:
.PP
\fB\-\-badname\fR\ \&
.RS 4
Дозволити назви, які не відповідають стандартам\&.
.RE
.PP
\fB\-b\fR, \fB\-\-base\-dir\fR \fIБАЗОВИЙ_КАТАЛОГ\fR
.RS 4
Типовий базовий каталог для системи, якщо не вказано
\fB\-d\fR
\fIДОМАШНІЙ_КАТАЛОГ\fR\&. Для визначення домашнього каталогу
\fIБАЗОВИЙ_КАТАЛОГ\fR
буде поєднано із назвою облікового запису\&.
.sp
Якщо цей параметр не вказано,
\fBuseradd\fR
використає базовий каталог, який вказано змінною
\fBHOME\fR
у
/etc/default/useradd, або типовий каталог
/home\&.
.RE
.PP
\fB\-c\fR, \fB\-\-comment\fR \fIКОМЕНТАР\fR
.RS 4
Будь\-який рядок тексту\&. Зазвичай, це короткий опис облікового запису\&. У поточній версії використано як поле для повного імені користувача\&.
.RE
.PP
\fB\-d\fR, \fB\-\-home\-dir\fR \fIДОМАШНІЙ_КАТАЛОГ\fR
.RS 4
Новий запис користувача буде створено з використанням
\fIДОМАШНІЙ_КАТАЛОГ\fR, як значення для каталогу входу до системи користувача\&. Типовим значенням є дописування імені
\fIЗАПИС\fR
до
\fIБАЗОВИЙ_КАТАЛОГ\fR
і використання результату як назви каталогу облікового запису\&. Якщо каталогу
\fIДОМАШНІЙ_КАТАЛОГ\fR
не існує, його буде створено, якщо не вказано параметр
\fB\-M\fR\&.
.RE
.PP
\fB\-D\fR, \fB\-\-defaults\fR
.RS 4
Див\&. нижче, підрозділ \(FoЗміна типових значень\(Fc\&.
.RE
.PP
\fB\-e\fR, \fB\-\-expiredate\fR \fIДАТА_ЗАВЕРШЕННЯ_СТРОКУ_ДІЇ\fR
.RS 4
Дата, у яку буде вимкнено обліковий запис користувача\&. Дату вказують у форматі
\fIРРРР\-ММ\-ДД\fR\&.
.sp
Якщо не вказано,
\fBuseradd\fR
використає типову дату строку дії, який вказано змінною
\fBEXPIRE\fR
у
/etc/default/useradd, або типовий порожній рядок (необмежений строк дії)\&.
.RE
.PP
\fB\-f\fR, \fB\-\-inactive\fR \fIНЕАКТИВНИЙ\fR
.RS 4
Визначає кількість днів після перевищення паролем максимального віку, протягом яких система очікуватиме на заміну пароля користувачем\&. Значення зберігається у файлі паролів shadow\&. Вхідне значення 0 вимкне пароль, строк дії якого вичерпано, без затримки\&. Вхідне значення \-1 призведе до вилучення відповідного поля у файлі паролів shadow\&. Див\&.
\fBshadow\fR(5), щоб дізнатися більше\&.
.sp
Якщо не вказано,
\fBuseradd\fR
використає типовий період неактивності, який вказано змінною
\fBНЕАКТИВНИЙ\fR
у
/etc/default/useradd, або типове значення \-1\&.
.RE
.PP
\fB\-F\fR, \fB\-\-add\-subids\-for\-system\fR
.RS 4
Update
/etc/subuid
and
/etc/subgid
even when creating a system account with
\fB\-r\fR
option\&.
.RE
.PP
\fB\-g\fR, \fB\-\-gid\fR \fIGROUP\fR
.RS 4
Назва або номер основної групи користувача\&. Відповідна група має існувати\&. Номер групи має вказувати на вже наявну групу\&.
.sp
If not specified, the behavior of
\fBuseradd\fR
will depend on the
\fBUSERGROUPS_ENAB\fR
variable in
/etc/login\&.defs\&. If this variable is set to
\fIyes\fR
(or
\fB\-U/\-\-user\-group\fR
is specified on the command line), a group will be created for the user, with the same name as her loginname\&. If the variable is set to
\fIno\fR
(or
\fB\-N/\-\-no\-user\-group\fR
is specified on the command line), useradd will set the primary group of the new user to the value specified by the
\fBGROUP\fR
variable in
/etc/default/useradd, or 1000 by default\&.
.RE
.PP
\fB\-G\fR, \fB\-\-groups\fR \fIГРУПА1\fR[\fI,ГРУПА2,\&.\&.\&.\fR[\fI,ГРУПАN\fR]]]
.RS 4
Список додаткових груп, учасником яких також буде користувач\&. Групи у списку слід відокремлювати комою, без проміжного пробілу\&. Групи підлягатимуть тим самим обмеженням, що і група, яку задано параметром
\fB\-g\fR\&. Типовою поведінкою є належність користувача лише до початкової групи\&.
.RE
.PP
\fB\-h\fR, \fB\-\-help\fR
.RS 4
Показати довідкове повідомлення і завершити роботу\&.
.RE
.PP
\fB\-k\fR, \fB\-\-skel\fR \fISKEL_DIR\fR
.RS 4
Каркасний каталог, який містить файли і каталоги, які буде скопійовано до домашнього каталогу користувача, коли такий домашній каталог створюється командою
\fBuseradd\fR\&.
.sp
Цей параметр є чинним, лише якщо вказано параметр
\fB\-m\fR
(або
\fB\-\-create\-home\fR)\&.
.sp
Якщо не вказано цей параметр, каталог каркасних даних буде визначено змінною
\fBSKEL\fR
у
/etc/default/useradd
або, типово,
/etc/skel\&.
.sp
Якщо можна, буде скопійовано ACL і розширені атрибути\&.
.RE
.PP
\fB\-K\fR, \fB\-\-key\fR \fIКЛЮЧ\fR=\fIЗНАЧЕННЯ\fR
.RS 4
Має пріоритет на типовими значеннями з
/etc/login\&.defs
(\fBUID_MIN\fR,
\fBUID_MAX\fR,
\fBUMASK\fR,
\fBPASS_MAX_DAYS\fR
та іншими)\&.
.sp
Приклад: можна скористатися
\fB\-K\fR
\fIPASS_MAX_DAYS\fR=\fI\-1\fR
при створенні облікового запису для вимикання застарівання пароля\&. Може бути вказано декілька параметрів
\fB\-K\fR\&. Приклад:
\fB\-K\fR
\fIUID_MIN\fR
=\fI100\fR
\fB\-K\fR
\fIUID_MAX\fR=\fI499\fR
.RE
.PP
\fB\-l\fR, \fB\-\-no\-log\-init\fR
.RS 4
Не додавати користувача до баз даних lastlog і faillog\&.
.sp
Типово, записи користувачів у базах даних lastlog і faillog буде скинуто до початкових даних, щоб уникнути повторного використання записів, які лишилися від раніше вилучених користувачів\&.
.sp
Якщо не вказано цей параметр,
\fBuseradd\fR
також врахує значення змінної
\fBLOG_INIT\fR
у
/etc/default/useradd, якщо для неї встановлено значення no, запис користувача не буде додано до баз даних lastlog і faillog\&.
.RE
.PP
\fB\-m\fR, \fB\-\-create\-home\fR
.RS 4
Створити домашній каталог користувача, якщо такого ще не існує\&. До такого домашнього каталогу буде скопійовано файли і каталоги з каркасного каталогу (який можна визначити за допомогою параметра
\fB\-k\fR)\&.
.sp
Типово, якщо цей параметр не вказано і не увімкнено
\fBCREATE_HOME\fR, програма не створюватиме домашніх каталогів\&.
.sp
Каталог, де буде створено домашній каталог користувача, має існувати і мати належний контекст SELinux і права доступу\&. Якщо ці умови не буде виконано, програма не зможе створити домашній каталог користувача або створений каталог буде недоступним\&.
.RE
.PP
\fB\-M\fR, \fB\-\-no\-create\-home\fR
.RS 4
Do not create the user\*(Aqs home directory, even if the system wide setting from
/etc/login\&.defs
(\fBCREATE_HOME\fR) is set to
\fIyes\fR\&.
.RE
.PP
\fB\-N\fR, \fB\-\-no\-user\-group\fR
.RS 4
Не створювати групи, назва якої збігається із назвою облікового запису користувача, а додати користувача до групи, яку вказано параметром
\fB\-g\fR
або змінною
\fBGROUP\fR
у
/etc/default/useradd\&.
.sp
Типову поведінку (якщо не вказано параметрів
\fB\-g\fR,
\fB\-N\fR
і
\fB\-U\fR) буде визначено змінною
\fBUSERGROUPS_ENAB\fR
у
/etc/login\&.defs\&.
.RE
.PP
\fB\-o\fR, \fB\-\-non\-unique\fR
.RS 4
Дозволяє створення облікового запису із наявним UID\&.
.sp
Цей параметр можна використовувати лише у поєднанні із параметром
\fB\-u\fR\&. Оскільки профіль користувача слугує ключем для прив\*(Aqязки користувачів до прав доступу, прав власності на файли та інших аспектів загальносистемної поведінки, доступ до облікового запису із заданим UID матимуть декілька облікових записів для входу до системи\&.
.RE
.PP
\fB\-p\fR, \fB\-\-password\fR \fIПАРОЛЬ\fR
.RS 4
визначає початковий пароль до облікового запису\&. ПАРОЛЬ має бути зашифровано у форматі, який повертає
\fBcrypt\fR(3)\&. У скрипті оболонки цей параметр надає змогу ефективно створювати записи користувачів у пакетному режимі\&.
.sp
Без цього параметра новий обліковий запис буде заблоковано; для нього також не буде визначено пароля, тобто у відповідному полі файла
/etc/shadow\&. Це стан, у якому користувач не зможе отримати доступ до облікового запису або визначити пароль власноруч\&.
.sp
\fBЗауваження:\fR
не рекомендуємо користуватися цим параметром у командному рядку, оскільки пароль (або шифрований пароль) буде видимим для користувачів, які мають доступ до списку процесів\&.
.sp
Вам слід переконатися, що пароль відповідає правилам складання паролів системи\&.
.RE
.PP
\fB\-r\fR, \fB\-\-system\fR
.RS 4
Створити загальносистемний обліковий запис\&.
.sp
Записи загальносистемних користувачів буде створено без даних щодо застарівання у
/etc/shadow, а їхні числові ідентифікатори буде вибрано у діапазоні
\fBSYS_UID_MIN\fR\-\fBSYS_UID_MAX\fR, який визначено у
/etc/login\&.defs, а не у
\fBUID_MIN\fR\-\fBUID_MAX\fR
(та їхніх відповідників
\fBGID\fR
для створення груп)\&.
.sp
Зауважте, що
\fBuseradd\fR
не створюватиме домашнього каталогу для такого користувача, незалежно від того, яким є типове значення параметра у
/etc/login\&.defs
(\fBCREATE_HOME\fR)\&. вам слід вказати параметри
\fB\-m\fR, якщо ви хочете, щоб для загальносистемного облікового запису було створено домашній каталог\&.
.sp
Note that this option will not update
/etc/subuid
and
/etc/subgid\&. You have to specify the
\fB\-F\fR
options if you want to update the files for a system account to be created\&.
.RE
.PP
\fB\-R\fR, \fB\-\-root\fR \fIКАТАЛОГ_CHROOT\fR
.RS 4
Apply changes in the
\fICHROOT_DIR\fR
directory and use the configuration files from the
\fICHROOT_DIR\fR
directory\&. Only absolute paths are supported\&.
.RE
.PP
\fB\-P\fR, \fB\-\-prefix\fR \fIКАТАЛОГ_ПРЕФІКСА\fR
.RS 4
Застосувати зміни до файлів налаштувань у кореневій файловій системі з каталогу
\fIКАТАЛОГ_ПРЕФІКСА\fR\&. Використання цього параметра не змінює кореневої теки\&. Параметр призначено лише для приготування цілі для компіляції коду для іншої операційної системи\&. Обмеження: не буде виконано перевірку користувачів/груп NIS і LDAP\&. При розпізнаванні у PAM буде використано файли основної системи\&. Підтримки SELINUX не передбачено\&.
.RE
.PP
\fB\-s\fR, \fB\-\-shell\fR \fIОБОЛОНКА\fR
.RS 4
sets the path to the user\*(Aqs login shell\&. Without this option, the system will use the
\fBSHELL\fR
variable specified in
/etc/default/useradd, or, if that is as well not set, the field for the login shell in
/etc/passwd
remains empty\&.
.RE
.PP
\fB\-u\fR, \fB\-\-uid\fR \fIUID\fR
.RS 4
Числове значення ідентифікатора користувача\&. Це значення має бути унікальним, якщо не використано параметр
\fB\-o\fR\&. Значення має бути невід\*(Aqємним\&. Типово, буде використано найменше значення ідентифікатора, яке перевищує або дорівнює значенню
\fBUID_MIN\fR
і є більшим за значення для будь\-якого іншого користувача\&.
.sp
Див\&. також описи параметрів
\fB\-r\fR
і
\fBUID_MAX\fR\&.
.RE
.PP
\fB\-U\fR, \fB\-\-user\-group\fR
.RS 4
Створити групу, назва якої збігається із назвою облікового запису користувача, додати користувача до цієї групи\&.
.sp
Типову поведінку (якщо не вказано параметрів
\fB\-g\fR,
\fB\-N\fR
і
\fB\-U\fR) буде визначено змінною
\fBUSERGROUPS_ENAB\fR
у
/etc/login\&.defs\&.
.RE
.PP
\fB\-Z\fR, \fB\-\-selinux\-user\fR \fISEКОРИСТУВАЧ\fR
.RS 4
Визначає користувача SELinux для нового облікового запису\&. Без цього параметра, SELinux використає типового користувача\&. Зауважте, що система shadow не зберігає користувача selinux \(em для цього вона використовує
\fBsemanage\fR(8)\&.
.RE
.SS "Зміна типових значень"
.PP
Якщо програму викликано лише з параметром
\fB\-D\fR,
\fBuseradd\fR
виведе поточні типові значення\&. Якщо виклик відбувся з параметром
\fB\-D\fR
та іншими параметрами,
\fBuseradd\fR
оновить типові значення для вказаних параметрів\&. Коректними параметрами для зміни типових значень є такі:
.PP
\fB\-b\fR, \fB\-\-base\-dir\fR \fIБАЗОВИЙ_КАТАЛОГ\fR
.RS 4
Встановлює префікс шляху для домашнього каталогу нового користувача\&. Назву облікового запису користувача буде дописано наприкінці
\fIБАЗОВИЙ_КАТАЛОГ\fR
для створення назви домашнього каталогу нового користувача, якщо під час створення облікового запису не було використано параметр
\fB\-d\fR\&.
.sp
Цей параметр встановлює значення змінної
\fBHOME\fR
у
/etc/default/useradd\&.
.RE
.PP
\fB\-e\fR, \fB\-\-expiredate\fR \fIДАТА_ЗАВЕРШЕННЯ_СТРОКУ_ДІЇ\fR
.RS 4
Встановлює дату вимикання новостворених облікових записів користувачів\&.
.sp
Цей параметр встановлює значення змінної
\fBEXPIRE\fR
у
/etc/default/useradd\&.
.RE
.PP
\fB\-f\fR, \fB\-\-inactive\fR \fIНЕАКТИВНИЙ\fR
.RS 4
Визначає кількість днів після перевищення паролем максимального віку, протягом яких система очікуватиме на заміну пароля користувачем\&. Див\&.
\fBshadow\fR(5), щоб дізнатися більше\&.
.sp
Цей параметр встановлює значення змінної
\fBНЕАКТИВНИЙ\fR
у
/etc/default/useradd\&.
.RE
.PP
\fB\-g\fR, \fB\-\-gid\fR \fIGROUP\fR
.RS 4
Встановлює типову основну групу для новостворених записів користувачів\&. Можна вказати назву групи або числовий ідентифікатор групи\&. Вказана за назвою група має існувати, а GID має бути наявним записом\&.
.sp
Цей параметр встановлює значення змінної
\fBGROUP\fR
у
/etc/default/useradd\&.
.RE
.PP
\fB\-s\fR, \fB\-\-shell\fR \fIОБОЛОНКА\fR
.RS 4
Визначає типову оболонку входу для нових користувачів\&.
.sp
Цей параметр встановлює значення змінної
\fBОБОЛОНКА\fR
у
/etc/default/useradd\&.
.RE
.SH "ПРИМІТКИ"
.PP
За розташування типових файлів користувача у каталозі
/etc/skel/
(або будь\-якому іншому каркасному каталозі, який вказано у
/etc/default/useradd
або рядку команди) відповідає адміністратор системи\&.
.SH "ЗАСТЕРЕЖЕННЯ"
.PP
Не можна додавати користувача до групи NIS або LDAP\&. Для таких груп цю дію має бути виконано на відповідному сервері\&.
.PP
Так само, якщо ім\*(Aqя користувача вже існує у зовнішній базі даних користувачів, зокрема NIS або LDAP,
\fBuseradd\fR
відмовить у запиті щодо створення облікового запису користувача\&.
.PP
Usernames may contain only lower and upper case letters, digits, underscores, or dashes\&. They can end with a dollar sign\&. Dashes are not allowed at the beginning of the username\&. Fully numeric usernames and usernames \&. or \&.\&. are also disallowed\&. It is not recommended to use usernames beginning with \&. character as their home directories will be hidden in the
\fBls\fR
output\&.
.PP
Довжина імен користувачів не може перевищувати 32 символи\&.
.SH "НАЛАШТУВАННЯ"
.PP
Вказані нижче змінні налаштувань у
/etc/login\&.defs
змінюють поведінку цього інструмента:
.SH "ФАЙЛИ"
.PP
/etc/passwd
.RS 4
Відомості щодо облікових записів користувача\&.
.RE
.PP
/etc/shadow
.RS 4
Відомості щодо захищених облікових записів користувачів\&.
.RE
.PP
/etc/group
.RS 4
Відомості щодо груп облікових записів\&.
.RE
.PP
/etc/gshadow
.RS 4
Відомості щодо захищених груп облікових записів\&.
.RE
.PP
/etc/default/useradd
.RS 4
Типові значення для створення облікового запису\&.
.RE
.PP
/etc/shadow\-maint/useradd\-pre\&.d/*, /etc/shadow\-maint/useradd\-post\&.d/*
.RS 4
Файли, які буде виконано під час додавання запису користувача\&. Змінну середовища
\fBACTION\fR
буде заповнено командою useradd, а змінну середовища
\fBSUBJECT\fR
\(em
\fBкористувач\fR\&. Перед додаванням запису користувача буде виконано
useradd\-pre\&.d\&. Після додавання запису користувача буде виконано
useradd\-post\&.d\&. Якщо станом виходу зі скрипту буде ненульове значення, виконання дій буде перервано\&.
.RE
.PP
/etc/skel/
.RS 4
Каталог, у якому містяться типові файли\&.
.RE
.PP
/etc/subgid
.RS 4
Окремі для користувачів ідентифікатори підлеглих груп\&.
.RE
.PP
/etc/subuid
.RS 4
Окремі для користувачів ідентифікатори підлеглих користувачів\&.
.RE
.PP
/etc/login\&.defs
.RS 4
Налаштування комплексу для роботи з прихованими паролями\&.
.RE
.SH "ЗНАЧЕННЯ ВИХОДУ"
.PP
Команда
\fBuseradd\fR
завершує роботу із такими значеннями:
.PP
\fI0\fR
.RS 4
успіх
.RE
.PP
\fI1\fR
.RS 4
не вдалося оновити файл паролів
.RE
.PP
\fI2\fR
.RS 4
некоректний синтаксис команди
.RE
.PP
\fI3\fR
.RS 4
некоректний аргумент параметра
.RE
.PP
\fI4\fR
.RS 4
UID вже використано (і не вказано
\fB\-o\fR)
.RE
.PP
\fI6\fR
.RS 4
вказаної групи не існує
.RE
.PP
\fI9\fR
.RS 4
username or group name already in use
.RE
.PP
\fI10\fR
.RS 4
не вдалося оновити файл груп
.RE
.PP
\fI12\fR
.RS 4
не вдалося створити домашній каталог
.RE
.PP
\fI14\fR
.RS 4
не вдалося оновити прив\*(Aqязку користувача SELinux
.RE
.SH "ДИВ\&. ТАКОЖ"
.PP
\fBchfn\fR(1),
\fBchsh\fR(1),
\fBpasswd\fR(1),
\fBcrypt\fR(3),
\fBgroupadd\fR(8),
\fBgroupdel\fR(8),
\fBgroupmod\fR(8),
\fBlogin.defs\fR(5),
\fBnewusers\fR(8),
\fBsubgid\fR(5), \fBsubuid\fR(5),
\fBuserdel\fR(8),
\fBusermod\fR(8)\&.
